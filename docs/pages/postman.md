# Postman æ¥å£æµ‹è¯•ç¥å™¨

Postman æ˜¯ä¸€ä¸ªæ¥å£æµ‹è¯•å’Œ http è¯·æ±‚çš„ç¥å™¨ï¼Œéå¸¸å¥½ç”¨ã€‚

å®˜æ–¹ github åœ°å€: [https://github.com/postmanlabs](https://github.com/postmanlabs)

Postman çš„**ä¼˜ç‚¹ï¼š**

- æ”¯æŒå„ç§çš„è¯·æ±‚ç±»å‹: getã€postã€putã€patchã€delete ç­‰
- æ”¯æŒåœ¨çº¿å­˜å‚¨æ•°æ®ï¼Œé€šè¿‡è´¦å·å°±å¯ä»¥è¿›è¡Œè¿ç§»æ•°æ®
- å¾ˆæ–¹ä¾¿çš„æ”¯æŒè¯·æ±‚ header å’Œè¯·æ±‚å‚æ•°çš„è®¾ç½®
- æ”¯æŒä¸åŒçš„è®¤è¯æœºåˆ¶ï¼ŒåŒ…æ‹¬ Basic Authï¼ŒDigest Authï¼ŒOAuth 1.0ï¼ŒOAuth 2.0 ç­‰
- å“åº”æ•°æ®æ˜¯è‡ªåŠ¨æŒ‰ç…§è¯­æ³•æ ¼å¼é«˜äº®çš„ï¼ŒåŒ…æ‹¬ HTMLï¼ŒJSON å’Œ XML

> ä»¥ä¸‹å†…å®¹ä¸»è¦å‚è€ƒï¼š [Github: api_tool_postman ](https://github.com/crifan/api_tool_postman)

## å®‰è£…

Postman å¯ä»¥å•ç‹¬ä½œä¸ºä¸€ä¸ªåº”ç”¨å®‰è£…ï¼Œä¹Ÿå¯ä»¥ä½œä¸º chrome çš„ä¸€ä¸ªæ’ä»¶å®‰è£…ã€‚

- chrome æ’ä»¶å®‰è£…, [Postman æ’ä»¶åœ°å€](https://chrome.google.com/webstore/detail/postman/fhbjgbiflinjbdggehcddcbncdddomop)

- [å•ç‹¬åº”ç”¨å®‰è£…ä¸‹è½½](http://files.cnblogs.com/files/mafly/postman-4.1.2.rar)

ä¸‹é¢ä¸»è¦ä»‹ç»ä¸‹è½½å®‰è£…ç‹¬ç«‹ç‰ˆæœ¬**app è½¯ä»¶**çš„ Postman çš„è¿‡ç¨‹ï¼š

å»ä¸»é¡µ[Postman å®˜ç½‘](https://www.getpostman.com)æ‰¾åˆ°ï¼š[Postman | Apps](https://www.getpostman.com/apps)

![ä¸‹è½½Postmançš„APP](../assets/img/postman_download_app.png)

å»ä¸‹è½½è‡ªå·±å¹³å°çš„ç‰ˆæœ¬ï¼š

- Mac
- Windowsï¼ˆx86/x64ï¼‰
- Linuxï¼ˆx86/x64ï¼‰
  å³å¯ã€‚

## å¿«é€Ÿå…¥é—¨ï¼Œæ€»ä½“ä½¿ç”¨æ–¹ç•¥

å®‰è£…æˆåŠŸåï¼Œæ‰“å¼€è½¯ä»¶ã€‚

### æ–°å»ºæ¥å£

å¯¹åº”çš„**Request**ï¼š`New -> Request`

![Postmanæ–°å»ºRequest](../assets/img/postman_new_request.png)

æˆ–ï¼Œåœ¨å³è¾¹çš„ Tab é¡µé¢ä¸­ç‚¹å‡»åŠ å·**+**ï¼š

![Postmanåœ¨Tabé¡µæ–°å»ºRequest](../assets/img/postman_tab_new_request.png)

å³å¯çœ‹åˆ°æ–°å»ºçš„ Tab é¡µï¼š

![Postmanæ–°å»ºäº†çš„Tabé¡µçš„Request](../assets/img/postman_newly_created_tab_request.png)

### è®¾ç½® HTTP è¯·æ±‚çš„æ–¹æ³•

è®¾ç½® HTTP çš„ Method æ–¹æ³•å’Œè¾“å…¥ api çš„åœ°å€

![Postmanè®¾ç½®Methodå’Œè¾“å…¥APIåœ°å€](../assets/img/postman_set_method_and_api.png)

### è®¾ç½®ç›¸å…³è¯·æ±‚å¤´ä¿¡æ¯

![Postmanè®¾ç½®Headerå¤´çš„key](../assets/img/postman_set_headers_key.png)

![Postmanè®¾ç½®Headerå¤´çš„value](../assets/img/postman_set_headers_value.png)

### è®¾ç½®ç›¸å…³ GET æˆ– POST ç­‰çš„å‚æ•°

![Postmanè®¾ç½®POSTçš„Bodyçš„JSON](../assets/img/postman_set_post_body_json.png)

### å‘é€è¯·æ±‚

éƒ½å¡«å†™å¥½ä¹‹åï¼Œç‚¹å‡» Send å»å‘é€**è¯·æ±‚ Request**ï¼š

![Postmanç‚¹å‡»å‘é€è¯·æ±‚](../assets/img/postman_send_request.png)

### æŸ¥çœ‹**å“åº” Response**çš„ä¿¡æ¯

![Postmanè¿”å›å“åº”](../assets/img/postman_return_response.png)

ç„¶åå¯ä»¥é‡å¤ä¸Šè¿°ä¿®æ”¹ Request çš„å‚æ•°ï¼Œç‚¹å‡» Send å»å‘é€è¯·æ±‚çš„è¿‡ç¨‹ï¼Œä»¥ä¾¿è°ƒè¯•åˆ° API æ¥å£æ­£å¸¸å·¥ä½œä¸ºæ­¢ã€‚

### ä¿å­˜æ¥å£é…ç½®

å¾…æ•´ä¸ªæ¥å£éƒ½è°ƒè¯•å®Œæ¯•åï¼Œè®°å¾—ç‚¹å‡» Save å»ä¿å­˜æ¥å£ä¿¡æ¯ï¼š

![Postmanç‚¹å‡»Saveä¿å­˜](../assets/img/postman_click_save.png)

å»ä¿å­˜å½“å‰ API æ¥å£ï¼Œç„¶åéœ€è¦å¡«å†™ç›¸å…³çš„æ¥å£ä¿¡æ¯ï¼š

- Request Name: è¯·æ±‚çš„åå­—
  - æˆ‘ä¸€èˆ¬ä¹ æƒ¯ç”¨ä¿å­˜ä¸º æ¥å£çš„æœ€åçš„å­—æ®µåï¼Œæ¯”å¦‚`http://{% raw %}{{% endraw %}{server_address}}/ucows/login/login`ä¸­çš„`/login/login`
- Request Description: æ¥å£çš„æè¿°
  - `å¯é€‰` æœ€å¥½å†™ä¸Šè¯¥æ¥å£çš„è¦å®ç°çš„åŸºæœ¬åŠŸèƒ½å’Œç›¸å…³æ³¨æ„äº‹é¡¹
  - æ”¯æŒ Markdown è¯­æ³•
- Select a collection or folder to save: é€‰æ‹©è¦ä¿å­˜åˆ°å“ªä¸ªåˆ†ç»„ï¼ˆæˆ–æ–‡ä»¶å¤¹ï¼‰
  - å¾€å¾€ä¿å­˜åˆ°æŸä¸ª API æ¥å£åˆ°æ‰€å±çš„è¯¥é¡¹ç›®åçš„åˆ†ç»„

![Postmanä¿å­˜æ—¶å¡«å†™æ¥å£ä¿¡æ¯](../assets/img/postman_fill_api_info_to_save.png)

å¡«å†™å¥½å†…å®¹ï¼Œé€‰æ‹©å¥½åˆ†ç»„ï¼Œå†ç‚¹å‡»ä¿å­˜ï¼š

![Postmanä¿å­˜åˆ°åˆ†ç»„](../assets/img/postman_save_to_collection.png)

æ­¤æ—¶ï¼ŒTab çš„å³ä¸Šè§’çš„é»„è‰²ç‚¹ï¼ˆè¡¨ç¤ºæ²¡æœ‰ä¿å­˜ï¼‰æ¶ˆå¤±äº†ï¼Œè¡¨ç¤ºå·²ä¿å­˜ã€‚

ä¸”å¯¹åº”çš„åˆ†ç»„ä¸­å¯ä»¥çœ‹åˆ°å¯¹åº”çš„æ¥å£äº†ï¼š

![Postmanå·²ä¿å­˜çš„APIæ¥å£Tabé¡µ](../assets/img/postman_saved_api_tab.png)

> **[warning] é»˜è®¤ä¸ä¿å­˜è¿”å›çš„ Response æ•°æ®**
>
> - ç›´æ¥ç‚¹å‡» Save å»ä¿å­˜ï¼Œåªèƒ½ä¿å­˜ API æœ¬èº«ï¼ˆçš„ Request è¯·æ±‚ï¼‰ï¼Œä¸ä¼šä¿å­˜ Response çš„æ•°æ®
> - æƒ³è¦ä¿å­˜ Response æ•°æ®ï¼Œéœ€è¦ç”¨åé¢è¦ä»‹ç»çš„ [å¤šä¸ª Example](http://book.crifan.com/books/api_tool_postman/website/postman_func_resp/save_multi_example.html)

## Request çš„å¤šå‚æ•°æ“ä½œè¯¦è§£

### è‡ªåŠ¨è§£æå¤šä¸ªå‚æ•° Params

æ¯”å¦‚ï¼Œå¯¹äºä¸€ä¸ª GET çš„è¯·æ±‚çš„ url æ˜¯ï¼š
`http://openapi.youdao.com/api?q=çº åˆ ç (EC)çš„å­¦ä¹ &from=zh_CHS&to=EN&appKey=152e0e77723a0026&salt=4&sign=6BE15F1868019AD71C442E6399DB1FE4`

å¯¹åº”ç€å…¶å®æ˜¯`?key=value`å½¢å¼ä¸­åŒ…å«å¤šä¸ª Http çš„ GET çš„ query string=query parameters

Postman å¯ä»¥è‡ªåŠ¨å¸®æˆ‘ä»¬è§£æå‡ºå¯¹åº”å‚æ•°ï¼Œå¯ä»¥ç‚¹å‡» Paramsï¼š

![Postmanä¸­GETæ—¶å¤šä¸ªå‚æ•°](../assets/img/postman_get_multi_params.png)

çœ‹åˆ°å±•å¼€çš„å¤šä¸ªå‚æ•°ï¼š

![Postmanä¸­GETä¸­å±•å¼€çš„å¤šä¸ªå‚æ•°](../assets/img/postman_get_expanded_multi_params.png)

å¦‚æ­¤å°±å¯ä»¥å¾ˆæ–¹ä¾¿çš„ä¿®æ”¹ï¼Œå¢åˆ å¯¹åº”çš„å‚æ•°äº†ã€‚

### ä¸´æ—¶ç¦ç”¨å‚æ•°

ä¸”è¿˜æ”¯æŒï¼Œåœ¨ä¸åˆ é™¤æŸå‚æ•°çš„æƒ…å†µä¸‹ï¼Œå¦‚æœæƒ³è¦æš‚æ—¶ä¸ä¼ å‚æ•°ï¼Œå¯ä»¥æ–¹ä¾¿çš„é€šè¿‡ä¸å‹¾é€‰çš„æ–¹å¼å»å®ç°ï¼š

![Postmanä¸­ä¸å‹¾é€‰ä¸ªåˆ«å‚æ•°](../assets/img/postman_exclude_some_para.png)

### æ‰¹é‡ç¼–è¾‘ GET çš„å¤šä¸ªå‚æ•°

å½“ç„¶ï¼Œå¦‚æœæƒ³è¦æ‰¹é‡çš„ç¼–è¾‘å‚æ•°ï¼Œå¯ä»¥ç‚¹å‡»å³ä¸Šè§’çš„**Bulk Edit**ï¼Œå»å®ç°æ‰¹é‡ç¼–è¾‘ã€‚

![Postmanæ‰¹é‡ç¼–è¾‘GETå‚æ•°](../assets/img/postman_batch_edit_get_para.png)

## æ¥å£æè¿°ä¸è‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£

API çš„æè¿°ä¸­ï¼Œä¹Ÿæ”¯æŒ Markdownï¼Œå®˜æ–¹çš„æ¥å£è¯´æ˜æ–‡æ¡£ï¼š[Intro to API documentation](https://www.getpostman.com/docs/postman/api_documentation/intro_to_api_documentation)ã€‚

æ‰€ä»¥ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„æ·»åŠ æœ‰æ¡ç†çš„æ¥å£æè¿°ï¼Œå°¤å…¶æ˜¯å‚æ•°è§£é‡Šäº†ï¼š

![Postmanç»™Editç¼–è¾‘](../assets/img/postman_edit_api.png)

### æè¿°æ”¯æŒ markdown è¯­æ³•

![Postmanæ”¯æŒMarkdownå†™æè¿°](../assets/img/postman_markdown_desc_api.png)

è€Œå¯¹äºè¦è§£é‡Šçš„å‚æ•°ï¼Œå¯ä»¥é€šè¿‡ä¹‹å‰çš„`Param -> Bulk Edit`çš„å†…å®¹ï¼š

![Postmanæ‰¹é‡æ›´æ–°å‚æ•°](../assets/img/postman_bulk_edit_param.png)

æ‹·è´è¿‡æ¥ï¼Œå†ç»§ç»­å»ç¼–è¾‘ï¼š

![Postmanç¼–è¾‘Markdownæè¿°å†…å®¹](../assets/img/postman_md_add_desc.png)

ä»¥åŠæ·»åŠ æ›´å¤šè§£é‡Šä¿¡æ¯ï¼š

![Postmanæ·»åŠ æ›´å¤šçš„Markdownå†…å®¹](../assets/img/postman_add_more_markdown.png)

ç‚¹å‡» Update åï¼Œå³å¯ä¿å­˜ã€‚

### å‘å¸ƒæ¥å£å¹¶ç”Ÿæˆ markdown çš„æè¿°æ–‡ä»¶

å»å‘å¸ƒåï¼š

![Postmanå»Publish Docs](../assets/img/postman_to_publish_docs.png)

å¯¹åº”çš„æ•ˆæœï¼š[æœ‰é“ç¿»è¯‘](https://documenter.getpostman.com/view/669382/collection/77fd4ek)

![Postmanå‘å¸ƒåMarkdownæ•ˆæœ](../assets/img/postman_markdown_effect_after_publish.png)

![Postmanå‘å¸ƒåMarkdownä¸­ä»£ç æ•ˆæœ](../assets/img/postman_published_markdown_code.png)

## Response æ·±å…¥

### Response æ•°æ®æ˜¾ç¤ºæ¨¡å¼

Postman å¯¹äºè¿”å›çš„ Response æ•°æ®ï¼Œæ”¯æŒä¸‰ç§æ˜¾ç¤ºæ¨¡å¼ã€‚

- `é»˜è®¤`æ ¼å¼åŒ–åçš„ Pretty æ¨¡å¼

![Postmançš„Responseçš„Prettyæ¨¡å¼](../assets/img/postman_resp_mode_pretty.png)

- Raw åŸå§‹æ¨¡å¼

ç‚¹å‡»**Raw**ï¼Œå¯ä»¥æŸ¥çœ‹åˆ°è¿”å›çš„æ²¡æœ‰æ ¼å¼åŒ–ä¹‹å‰çš„åŸå§‹æ•°æ®ï¼š

![Postmançš„Responseçš„Rawæ¨¡å¼](../assets/img/postman_resp_mode_raw.png)

- Preview é¢„è§ˆæ¨¡å¼

ä»¥åŠ Previewï¼Œæ˜¯å¯¹åº” Raw åŸå§‹æ ¼å¼çš„é¢„è§ˆæ¨¡å¼ï¼š

![Postmançš„Responseçš„Previewæ¨¡å¼](../assets/img/postman_resp_mode_preview.png)

Preview è¿™ç§æ¨¡å¼çš„æ˜¾ç¤ºæ•ˆæœï¼Œå¥½åƒæ˜¯å¯¹äºè¿”å›çš„æ˜¯ html é¡µé¢è¿™ç±»ï¼Œæ‰æ¯”è¾ƒæœ‰æ•ˆæœã€‚

### Response çš„ Cookies

å¾ˆå¤šæ—¶å€™æ™®é€šçš„ API è°ƒç”¨ï¼Œå€’æ˜¯æ²¡æœ‰ Cookie çš„ï¼š

![Postmançš„å“åº”ä¸­æ— Cookie](../assets/img/postman_resp_no_cookie.png)

### Response çš„ Headers å¤´ä¿¡æ¯

ä¸¾ä¾‹ï¼Œæ­¤å¤„è¿”å›çš„æ˜¯æœ‰ Headers å¤´ä¿¡æ¯çš„ï¼š

![Postmançš„å“åº”ä¸­çš„Headers](../assets/img/postman_resp_headers_info.png)

å¯ä»¥ä»ä¸­çœ‹åˆ°æœåŠ¡å™¨æ˜¯ Nginx çš„ã€‚

## ä¿å­˜å¤šä¸ª Example

ä¹‹å‰æƒ³è¦å®ç°ï¼Œè®©å¯¼å‡ºçš„ API æ–‡æ¡£ä¸­èƒ½çœ‹åˆ°æ¥å£è¿”å›çš„ Response æ•°æ®ã€‚åæ¥å‘ç°æ˜¯**Example**è¿™ä¸ªåŠŸèƒ½å»å®ç°æ­¤æ•ˆæœçš„ã€‚

### å¦‚ä½•æ·»åŠ  Example

![Postmançš„æ¥å£ç‚¹å‡»Add Example](../assets/img/postman_api_add_exmaple.png)

ç»§ç»­ç‚¹å‡»**Save Example**ï¼š

![Postmançš„æ¥å£ç‚¹å‡»Save Example](../assets/img/postman_api_save_exmaple.png)

ä¿å­˜åï¼Œå°±èƒ½çœ‹åˆ°**Example(1)**äº†ï¼š

![Postmanå·²ä¿å­˜çš„Example(1)](../assets/img/postman_saved_exmaple_1.png)

### å•ä¸ª Example åœ¨å¯¼å‡ºçš„ API æ–‡æ¡£ä¸­çš„æ•ˆæœ

ç„¶åå†å»å¯¼å‡ºæ–‡æ¡£ï¼Œå¯¼å‡ºæ–‡æ¡£ä¸­çš„ç¡®èƒ½çœ‹åˆ°è¿”å›æ•°æ®çš„ä¾‹å­ï¼š
![Postmanå¯¼å‡ºAPIæ–‡æ¡£ä¸­å¸¦Example](../assets/img/postman_api_doc_include_example.png)

### å¤šä¸ª Example åœ¨å¯¼å‡ºçš„ API æ–‡æ¡£ä¸­çš„æ•ˆæœ

![Postmanä¸­å¤šä¸ªExampleåœ¨APIæ–‡æ¡£ä¸­æ•ˆæœ1](../assets/img/multi_example_in_api_doc_1.png)

![Postmanä¸­å¤šä¸ªExampleåœ¨APIæ–‡æ¡£ä¸­æ•ˆæœ2](../assets/img/multi_example_in_api_doc_2.png)

## å…¶ä»–å¥½ç”¨çš„åŠŸèƒ½åŠå·¥å…·

### åˆ†ç»„ Collection

åœ¨åˆšå¼€å§‹ä¸€ä¸ªé¡¹ç›®æ—¶ï¼Œä¸ºäº†åç»­ä¾¿äºç»„ç»‡å’Œç®¡ç†ï¼ŒæŠŠåŒå±è¯¥é¡¹ç›®çš„å¤šä¸ª APIï¼Œæ”¾åœ¨ä¸€ç»„é‡Œ

æ‰€ä»¥è¦å…ˆå»æ–°å»ºä¸€ä¸ª Collection: `New -> Collection`

![Postmanæ–°å»ºåˆ†ç»„Colection](../assets/img/postman_new_collection.png)

ä½¿ç”¨äº†æ®µæ—¶é—´åï¼Œå»ºäº†å¤šä¸ªåˆ†ç»„çš„æ•ˆæœï¼š

![Postmanä¸­çš„å¤šä¸ªåˆ†ç»„æ•ˆæœ](../assets/img/postman_use_multiple_collection.png)

å•ä¸ªåˆ†ç»„å±•å¼€åçš„æ•ˆæœï¼š

![Postmanåˆ†ç»„å±•å¼€çš„æ•ˆæœ](../assets/img/postman_collection_expanded.png)

### å†å²è®°å½• History

Postman æ”¯æŒ history å†å²è®°å½•ï¼Œæ˜¾ç¤ºå‡ºæœ€è¿‘ä½¿ç”¨è¿‡çš„ APIï¼š
![Postmançš„Historyæ˜¾ç¤ºå†å²è®°å½•](../assets/img/postman_show_history.png)

### ç”¨ç¯å¢ƒå˜é‡å®ç°å¤šæœåŠ¡å™¨ç‰ˆæœ¬

#### ç°å­˜é—®é¢˜

åœ¨æµ‹è¯• API æœŸé—´ï¼Œå¾€å¾€å­˜åœ¨å¤šç§ç¯å¢ƒï¼Œå¯¹åº” IP åœ°å€ï¼ˆæˆ–åŸŸåä¹Ÿä¸åŒï¼‰

æ¯”å¦‚ï¼š

- **Prod**: `http://116.62.25.57/ucows`
  - ç”¨äºå¼€å‘å®Œæˆå‘å¸ƒåˆ°ç”Ÿäº§ç¯å¢ƒ
- **Dev**: `http://123.206.191.125/ucows`
  - ç”¨äºå¼€å‘æœŸé—´çš„çº¿ä¸Šçš„ Development çš„æµ‹è¯•ç¯å¢ƒ
- **LocalTest**: `http://192.168.0.140:80/ucows`
  - ç”¨äºå¼€å‘æœŸé—´é…åˆåå°å¼€å‘äººå‘˜çš„æœ¬åœ°å±€åŸŸç½‘å†…çš„æœ¬åœ°ç¯å¢ƒï¼Œç”¨äºè”åˆè°ƒè¯• API æ¥å£

è€Œåœ¨æµ‹è¯• API æœŸé—´ï¼Œå¾€å¾€éœ€è¦æ‰‹åŠ¨å»ä¿®æ”¹ API çš„åœ°å€ï¼š

![Postmanä¿®æ”¹APiæ¥å£ä¸­æœåŠ¡å™¨åœ°å€](../assets/img/postman_edit_api_server_address.png)

æ•ˆç‡æ¯”è¾ƒä½ï¼Œä¸”åœ°å€æ›´æ¢åä¹‹å‰åœ°å€å°±æ²¡æ³•ä¿ç•™äº†ã€‚

å¦å¤–ï¼Œä¸”æ ¹æ®ä¸åŒ IP åœ°å€ï¼ˆæˆ–è€…åŸŸåï¼‰ä¹Ÿä¸å®¹æ˜“è¯†åˆ«æ˜¯å“ªå¥—ç¯å¢ƒã€‚

### Postman æ”¯æŒç”¨ Environment ç¯å¢ƒå˜é‡å»å®ç°å¤šæœåŠ¡å™¨ç‰ˆæœ¬

åæ¥å‘ç° Postman ä¸­ï¼Œæœ‰ Environment å’Œ Global Variableï¼Œç”¨äºè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå®ç°ä¸åŒç¯å¢ƒçš„ç®¡ç†ï¼š

![Postmanä¸­Environmentå’ŒGlobals](../assets/img/postman_environment_globals.png)

> å¾ˆæ˜æ˜¾ï¼Œå°±å¯ä»¥ç”¨æ¥å®ç°ä¸ç”¨æ‰‹åŠ¨ä¿®æ”¹ url ä¸­çš„æœåŠ¡å™¨åœ°å€ï¼Œä»è€ŒåŠ¨æ€çš„å®ç°ï¼Œæ”¯æŒä¸åŒæœåŠ¡å™¨ç¯å¢ƒ:

- Production ç”Ÿäº§ç¯å¢ƒ
- Development å¼€å‘ç¯å¢ƒ
- Local æœ¬åœ°å±€åŸŸç½‘ç¯å¢ƒ

#### å¦‚ä½•ä½¿ç”¨ Enviroment å®ç°å¤šæœåŠ¡å™¨ç‰ˆæœ¬

![Postmanä¸­ç‚¹å‡»ğŸ‘€çš„Add](../assets/img/postman_eye_click_add.png)

æˆ–è€…ï¼š

![Postmanä¸­ç‚¹å‡»è®¾ç½®Manage Enviroments](../assets/img/postman_manage_environments.png)

![Postmanä¸­Manage Enviromentsçš„Add](../assets/img/postman_manage_environments_add.png)

> Environments are a group of variables & values, that allow you to quickly switch the context for your requests and collections.
>
> Learn more about environments
>
> You can declare a variable in an environment and give it a starting value, then use it in a request by putting the variable name within curly-braces. Create an environment to get started.

è¾“å…¥ Key å’Œ valueï¼š

![Postmanä¸­Enviromentè¾“å…¥keyå’Œvalue](../assets/img/postman_environment_key_value.png)

ç‚¹å‡» Add åï¼š

![Postmanä¿å­˜Enviroment](../assets/img/postman_save_environment.png)

> **[info] ç¯å¢ƒå˜é‡å¯ä»¥ä½¿ç”¨çš„åœ°æ–¹**
>
> - URL
> - URL params
> - Header values
> - form-data/url-encoded values
> - Raw body content
> - Helper fields
> - å†™ test æµ‹è¯•è„šæœ¬ä¸­
> - é€šè¿‡ postman çš„æ¥å£ï¼Œè·å–æˆ–è®¾ç½®ç¯å¢ƒå˜é‡çš„å€¼ã€‚

æ­¤å¤„æŠŠä¹‹å‰çš„åœ¨ url ä¸­çš„ IP åœ°å€ï¼ˆæˆ–åŸŸåï¼‰æ¢æˆç¯å¢ƒå˜é‡ï¼š

![PostmanæŠŠIPæ¢æˆç¯å¢ƒå˜é‡](../assets/img/postman_ip_to_environment_value.png)

é¼ æ ‡ç§»åŠ¨åˆ°ç¯å¢ƒå˜é‡ä¸Šï¼Œå¯ä»¥åŠ¨æ€æ˜¾ç¤ºå‡ºå…·ä½“çš„å€¼ï¼š

![Postmanç¯å¢ƒå˜é‡é¼ æ ‡åŠ¨æ€æç¤º](../assets/img/postman_environment_value_mouse_tip.png)

å†å»æ·»åŠ å¦å¤–ä¸€ä¸ªå¼€å‘ç¯å¢ƒï¼š

![Postmanæ·»åŠ Devç¯å¢ƒå˜é‡](../assets/img/postman_add_dev_environment.png)

åˆ™å¯æ·»åŠ å®Œ 2 ä¸ªç¯å¢ƒå˜é‡ï¼Œè¡¨ç¤ºä¸¤ä¸ªæœåŠ¡å™¨åœ°å€ï¼Œä¸¤ä¸ªç‰ˆæœ¬ï¼š

![Postmanå·²æ·»åŠ 2ä¸ªç¯å¢ƒå˜é‡](../assets/img/postman_added_two_environment.png)

ç„¶åå°±å¯ä»¥åˆ‡æ¢ä¸åŒæœåŠ¡å™¨ç¯å¢ƒäº†ï¼š

![Postmanåˆ‡æ¢ä¸åŒæœåŠ¡å™¨ç¯å¢ƒ](../assets/img/postman_switch_diff_server.png)

å¯ä»¥çœ‹åˆ°ï¼ŒåŒæ ·çš„å˜é‡ server_addressï¼Œåœ¨åˆ‡æ¢åå¯¹åº” IP åœ°å€å°±å˜æˆå¸Œæœ›çš„å¼€å‘ç¯å¢ƒçš„ IP äº†ï¼š

![Postmanåˆ‡æ¢åˆ°Devçš„IPåœ°å€](../assets/img/postman_see_dev_ip.png)

#### Postman å¯¼å‡º API æ–‡æ¡£ä¸­å¤šä¸ªç¯å¢ƒå˜é‡çš„æ•ˆæœ

é¡ºå¸¦ä¹Ÿå»çœ‹çœ‹ï¼Œå¯¼å‡ºä¸º API æ–‡æ¡£åï¼Œå¸¦äº†è¿™ç§ Environment çš„å˜é‡çš„æ¥å£ï¼Œæ–‡æ¡£é•¿ä»€ä¹ˆæ ·å­ï¼š

å‘ç°æ˜¯åœ¨å‘å¸ƒä¹‹å‰ï¼Œéœ€è¦é€‰æ‹©å¯¹åº”çš„ç¯å¢ƒçš„ï¼š

![Postmanå‘å¸ƒå‰è¦é€‰æ‹©ç¯å¢ƒ](../assets/img/postman_select_env_before_publish.png)

![Postmané€‰æ‹©æŸä¸ªç¯å¢ƒ](../assets/img/postman_select_some_env.png)

![Postmanå·²é€‰æ‹©äº†æŸä¸ªç¯å¢ƒ](../assets/img/postman_selected_some_env.png)

å‘å¸ƒåçš„æ–‡æ¡£ï¼Œå¯ä»¥çœ‹åˆ°æ‰€é€‰ç¯å¢ƒå’Œå¯¹åº”æœåŠ¡å™¨çš„ IP çš„ï¼š

![Postmanå‘å¸ƒåçœ‹åˆ°æ‰€é€‰ç¯å¢ƒçš„IP](../assets/img/postman_see_env_ip.png)

å½“ç„¶å‘å¸ƒæ–‡æ¡£åï¼Œä¹Ÿå¯ä»¥å®æ—¶åˆ‡æ¢ç¯å¢ƒï¼š

![Postmanå‘å¸ƒåå¯ä»¥åˆ‡æ¢ç¯å¢ƒ](../assets/img/postman_published_can_switch_env.png)

![Postmanåˆ‡æ¢åˆ°æŸä¸ªç¯å¢ƒçœ‹åˆ°IP](../assets/img/postman_switched_to_some_env_see_ip.png)

#### ç¯å¢ƒå˜é‡çš„å¥½å¤„

å½“æ›´æ¢æœåŠ¡å™¨æ—¶ï¼Œç›´æ¥ä¿®æ”¹å˜é‡çš„ IP åœ°å€ï¼š

![Postmanç¯å¢ƒå˜é‡è¦æ›´æ¢IPåœ°å€](../assets/img/postman_env_will_change_ip.png)

![Postmanç¯å¢ƒå˜é‡æ›´æ¢ä¸ºæ–°IP](../assets/img/postman_env_changed_new_ip.png)

å³å¯å®æ—¶æ›´æ–°ï¼Œå½“é¼ æ ‡ç§»åŠ¨åˆ°å˜é‡ä¸Šå³å¯çœ‹åˆ°æ•ˆæœï¼š

![Postmané¼ æ ‡ç§»åŠ¨åˆ°ç¯å¢ƒå˜é‡æ˜¾ç¤ºæ–°IP](../assets/img/postman_mouse_move_show_new_ip.png)

### ä»£ç ç”Ÿæˆå·¥å…·

#### æŸ¥çœ‹å½“å‰è¯·æ±‚çš„ HTTP åŸå§‹å†…å®¹

å¯¹äºå½“å‰çš„è¯·æ±‚ï¼Œè¿˜å¯ä»¥é€šè¿‡ç‚¹å‡» Code

![Postmanä¸­ç‚¹å‡»Code](../assets/img/postman_click_code.png)

å»æŸ¥çœ‹å¯¹åº”çš„ç¬¦åˆ HTTP åè®®çš„åŸå§‹çš„å†…å®¹ï¼š

![PostmanæŸ¥çœ‹è¯·æ±‚çš„Httpçš„åŸå§‹å†…å®¹](../assets/img/postman_check_raw_http_content.png)

#### å„ç§è¯­è¨€çš„ç¤ºä¾‹ä»£ç **Code Generation Tools**

æ¯”å¦‚ï¼š

- Swift è¯­è¨€

![PostmanæŠŠè¯·æ±‚ç”ŸæˆSwiftä»£ç ](../assets/img/post_generat_swift_code.png)

- Java è¯­è¨€

![PostmanæŠŠè¯·æ±‚ç”ŸæˆJavaä»£ç ](../assets/img/post_generat_java_code.png)

- å…¶ä»–å„ç§è¯­è¨€
  è¿˜æ”¯æŒå…¶ä»–å„ç§è¯­è¨€ï¼š

![PostmanæŠŠè¯·æ±‚ç”Ÿæˆå…¶ä»–å„ç§è¯­è¨€çš„ä»£ç ](../assets/img/post_generat_other_lang_code.png)

ç›®å‰æ”¯æŒçš„è¯­è¨€æœ‰ï¼š

- HTTP
- C (LibCurl)
- cURL
- C#(RestSharp)
- Go
- Java
  - OK HTTP
  - Unirest
- Javascript
- NodeJS
- Objective-C(NSURL)
- OCaml(Cohttp)
- PHP
- Python
- Ruby(NET::Http)
- Shell
- Swift(NSURL)

ä»£ç ç”Ÿæˆå·¥å…·çš„å¥½å¤„æ˜¯ï¼šåœ¨å†™è°ƒç”¨æ­¤ API çš„ä»£ç æ—¶ï¼Œå°±å¯ä»¥å‚è€ƒå¯¹åº”ä»£ç ï¼Œç”šè‡³æ‹·è´ç²˜è´´å¯¹åº”ä»£ç ï¼Œå³å¯ã€‚

### æµ‹è¯•æ¥å£

é€‰ä¸­æŸä¸ªåˆ†ç»„åï¼Œç‚¹å‡» Runner

![Postmanä¸­ç‚¹å‡»Runner](../assets/img/postman_click_runner.png)

é€‰ä¸­æŸä¸ªåˆ†ç»„åç‚¹å‡» Run

![Postmanä¸­ç‚¹å‡»Runå»æµ‹è¯•](../assets/img/postman_click_run_to_test.png)

å³å¯çœ‹åˆ°æµ‹è¯•ç»“æœï¼š
![Postmanä¸­æµ‹è¯•APIçš„ç»“æœ](../assets/img/postman_test_api_result.png)

å…³äºæ­¤åŠŸèƒ½çš„ä»‹ç»å¯å‚è€ƒ[Postman å®˜ç½‘](https://www.getpostman.com/postman)çš„[git å›¾](https://www.getpostman.com/img/v2/postman/gifs/collection-runner.gif)

### MockServer

ç›´æ¥å‚è€ƒå®˜ç½‘ã€‚

## åŠŸèƒ½ç•Œé¢

### å¤š Tab åˆ†é¡µ

Postman æ”¯æŒå¤š tab é¡µï¼Œäºæ­¤å¯¹æ¯”ä¹‹å‰æœ‰äº› API è°ƒè¯•å·¥å…·å°±ä¸æ”¯æŒå¤š Tab é¡µï¼Œæ¯”å¦‚`Advanced Rest Client`

å¤š tab çš„å¥½å¤„ï¼š

æ–¹ä¾¿åœ¨ä¸€ä¸ª tab ä¸­æµ‹è¯•ï¼Œå¾—åˆ°ç»“æœåï¼Œå¤åˆ¶ç²˜è´´åˆ°å¦å¤–çš„ tab ä¸­ï¼Œç»§ç»­æµ‹è¯•å…¶å®ƒæ¥å£

æ¯”å¦‚æ­¤å¤„ tab1 ä¸­ï¼Œæµ‹è¯•äº†è·å–éªŒè¯ç æ¥å£åï¼Œæ‹·è´æ‰‹æœºå·å’ŒéªŒè¯ç ï¼Œç²˜è´´åˆ° tab2 ä¸­ï¼Œç»§ç»­æµ‹è¯•æ³¨å†Œçš„æ¥å£

![Postmanæ‹·è´Tab1ä¸­éªŒè¯ç ](../assets/img/postman_tab1_copy_sms.png)

![Postmanç²˜è´´éªŒè¯ç åˆ°Tab2](../assets/img/postman_paste_sms_code_to_tab2.png)

### ç•Œé¢æŸ¥çœ‹æ¨¡å¼

Postman çš„é»˜è®¤çš„ Request å’Œ Response æ˜¯ä¸Šä¸‹å¸ƒå±€ï¼š

![Postmané»˜è®¤æ˜¯ä¸Šä¸‹å¸ƒå±€](../assets/img/postman_default_view_vertical.png)

æ­¤å¤„ç‚¹å‡»å³ä¸‹è§’çš„`Two pane view`ï¼Œå°±å˜æˆå·¦å³çš„äº†ï¼š

![Postmanæ¢æˆå·¦å³å¸ƒå±€](../assets/img/postman_change_to_two_pane_view.png)

> **[info] å·¦å³å¸ƒå±€çš„ç”¨é€”**
>
> å¯¹äºæ•°æ®é‡å¾ˆå¤§ï¼Œåˆæƒ³è¦åŒæ—¶çœ‹åˆ°è¯·æ±‚å’Œè¿”å›çš„æ•°æ®çš„æ—¶å€™ï¼Œåº”è¯¥æ¯”è¾ƒæœ‰ç”¨ã€‚

### å¤šé¢œè‰²ä¸»é¢˜

Posman æ”¯æŒä¸¤ç§ä¸»é¢˜ï¼š

- æ·±è‰²ä¸»é¢˜

å½“å‰æ˜¯æ·±è‰²ä¸»é¢˜ï¼Œæ•ˆæœå¾ˆä¸é”™ï¼š

![Postmançš„è®¾ç½®æ·±è‰²ä¸»é¢˜](../assets/img/postman_config_dark_theme.png)

![Postmançš„æ·±è‰²ä¸»é¢˜çš„æ•ˆæœ](../assets/img/postman_dark_theme_effect.png)

- æµ…è‰²ä¸»é¢˜

å¯ä»¥åˆ‡æ¢åˆ° æµ…è‰²ä¸»é¢˜ï¼š

![Postmanåˆ‡æ¢æµ…è‰²ä¸»é¢˜](../assets/img/postman_switch_light_theme.png)

![Postmanæµ…è‰²ä¸»é¢˜æ•ˆæœ](../assets/img/postman_light_theme_effect.png)

## API æ–‡æ¡£ç”Ÿæˆ

åœ¨æœåŠ¡ç«¯åå°çš„å¼€å‘äººå‘˜æµ‹è¯•å¥½äº†æ¥å£åï¼Œæ‰“ç®—æŠŠæ¥å£çš„å„ç§ä¿¡æ¯å‘ç»™ä½¿ç”¨æ­¤ API çš„å‰ç«¯çš„ç§»åŠ¨ç«¯äººå‘˜æ—¶ï¼Œå¾€å¾€ä¼šé‡åˆ°ï¼š

è¦ä¹ˆæ˜¯ç”¨å¤åˆ¶ç²˜è´´ -> æ ¼å¼ä¸å‹å¥½
è¦ä¹ˆæ˜¯ç”¨ Postman ä¸­æˆªå›¾ -> æ–¹ä¾¿çœ‹ï¼Œä½†æ˜¯ä¸æ–¹ä¾¿è·å¾— API æ¥å£å’Œå­—æ®µç­‰æ–‡å­—å†…å®¹
è¦ä¹ˆæ˜¯ç”¨ Postman ä¸­å¯¼å‡ºä¸º JSON -> json æ–‡ä»¶ä¸­ä¿¡æ¯å¤ªç¹æ‚ï¼Œä¸åˆ©äºæ‰¾åˆ°æ‰€éœ€è¦çš„ä¿¡æ¯
è¦ä¹ˆæ˜¯ç”¨æ–‡æ¡£ï¼Œæ¯”å¦‚å»ç¼–å†™ Markdown æ–‡æ¡£ -> ä½†åç»­ API çš„å˜æ›´éœ€è¦å®æ—¶åŒæ­¥ä¿®æ”¹æ–‡æ¡£ï¼Œä¹Ÿä¼šå¾ˆéº»çƒ¦
è¿™éƒ½ä¼šå¯¼è‡´åˆ«äººæŸ¥çœ‹å’Œä½¿ç”¨ API æ—¶å¾ˆä¸æ–¹ä¾¿ã€‚

-> å¯¹æ­¤ï¼ŒPostman æä¾›äº†å‘å¸ƒ API

é¢„è§ˆå’Œå‘å¸ƒ API æ–‡æ¡£
ä¸‹é¢ä»‹ç» Postman ä¸­å¦‚ä½•é¢„è§ˆå’Œå‘å¸ƒ API æ–‡æ¡£ã€‚

### ç®€è¦æ¦‚è¿°æ­¥éª¤

1.  Collection
2.  é¼ æ ‡ç§»åŠ¨åˆ°æŸä¸ª Collectionï¼Œç‚¹å‡» ä¸‰ä¸ªç‚¹
3.  Publish Docs
4.  Publish
5.  å¾—åˆ° Public URL
6.  åˆ«äººæ‰“å¼€è¿™ä¸ª Public URLï¼Œå³å¯æŸ¥çœ‹ API æ–‡æ¡£

### é¢„è§ˆ API æ–‡æ¡£

ç‚¹å‡»åˆ†ç»„å³è¾¹çš„å¤§äºå·**>**

![Postmançš„åˆ†ç»„å³è¾¹çš„>](../assets/img/post_collection_right_large_sign.png)

å¦‚æœåªæ˜¯é¢„è§ˆï¼Œæ¯”å¦‚åå°å¼€å‘å‘˜è‡ªå·±æŸ¥çœ‹ API æ–‡æ¡£çš„è¯ï¼Œå¯ä»¥é€‰æ‹©ï¼šView in web

![Postmançš„åˆ†ç»„çš„View in web](../assets/img/post_collection_view_in_web.png)

> ç­‰ä»·äºç‚¹å‡»**Publish Docs**å»å‘å¸ƒï¼š
>
> ![Postmançš„åˆ†ç»„ç‚¹å‡»Publish Docs](../assets/img/post_collection_publish_docs.png)

View in Web åï¼Œæœ‰ Publish çš„é€‰é¡¹ï¼ˆè§åé¢çš„æˆªå›¾ï¼‰

View in Web åï¼Œä¼šæ‰“å¼€é¢„è§ˆé¡µé¢ï¼š

æ¯”å¦‚ï¼š

å¥¶ç‰›äº‘

`https://documenter.getpostman.com/collection/view/669382-42273840-6237-dbae-5455-26b16f45e2b9`

![Postmançš„APIæ–‡æ¡£é¢„è§ˆ-1](../assets/img/postman_api_doc_preview_1.png)

![Postmançš„APIæ–‡æ¡£é¢„è§ˆ-2](../assets/img/postman_api_doc_preview_2.png)

è€Œå³è¾¹çš„ç¤ºä¾‹ä»£ç ï¼Œä¹Ÿå¯ä»¥ä»é»˜è®¤çš„ cURL æ¢æˆå…¶ä»–çš„ï¼š

![ç¤ºä¾‹ä»£ç ä»cURLæ¢æˆPython](../assets/img/example_code_from_curl_to_py.png)

![APIæ–‡æ¡£ä¸­Pythonç¤ºä¾‹ä»£ç ](../assets/img/api_doc_code_python.png)

### å‘å¸ƒ API æ–‡æ¡£

å¦‚æœæƒ³è¦è®©å…¶ä»–äººèƒ½çœ‹åˆ°è¿™ä¸ªæ–‡æ¡£ï¼Œåˆ™ç‚¹å‡» Publishï¼š

![APIæ–‡æ¡£ä¸­ç‚¹å‡»Publishå»å‘å¸ƒ](../assets/img/api_doc_click_publish.png)

ç„¶åä¼šæ‰“å¼€ç±»ä¼¼äºè¿™æ ·çš„åœ°å€ï¼š

Postman Documenter

`https://documenter.getpostman.com/collection/publish?meta=Y29sbGVjdGlvbl9pZD00MjI3Mzg0MC02MjM3LWRiYWUtNTQ1NS0yNmIxNmY0NWUyYjkmb3duZXI9NjY5MzgyJmNvbGxlY3Rpb25fbmFtZT0lRTUlQTUlQjYlRTclODklOUIlRTQlQkElOTE=`

![Postmanç¡®è®¤å‘å¸ƒåˆ†ç»„çš„APIæ–‡æ¡£](../assets/img/postman_sure_to_publish_collection.png)

ç‚¹å‡» Publish åï¼Œå¯ä»¥ç”Ÿæˆå¯¹åº”çš„å…¬å¼€çš„ç½‘é¡µåœ°å€ï¼š

![Postmanå·²å‘å¸ƒæ–‡æ¡£å¾—åˆ°å…¬å¼€é“¾æ¥](../assets/img/postman_published_api_doc_link.png)

æ‰“å¼€ API æ¥å£æ–‡æ¡£åœ°å€ï¼š

`https://documenter.getpostman.com/view/669382/collection/77fd4RM`

å³å¯çœ‹åˆ°ï¼ˆå’Œå‰é¢é¢„è§ˆä¸€æ ·æ•ˆæœçš„ API æ–‡æ¡£äº†ï¼‰ï¼š

![Postmanå·²å‘å¸ƒçš„APIæ–‡æ¡£æ•ˆæœ](../assets/img/postman_published_apic_doc_effect.png)

å¦‚æ­¤ï¼Œåˆ«äººå³å¯æŸ¥çœ‹å¯¹åº”çš„ API æ¥å£æ–‡æ¡£ã€‚

### å·²å‘å¸ƒçš„ API æ–‡æ¡£æ”¯æŒè‡ªåŠ¨æ›´æ–°

åç»­å¦‚æœè‡ªå·±çš„ API æ¥å£ä¿®æ”¹åï¼š

æ¯”å¦‚ï¼š

![Postmanå»Editç¼–è¾‘API](../assets/img/postman_collection_api_edit.png)

![Postmançš„APIæ›´æ–°ç¼–è¾‘Edit Request](../assets/img/postman_api_edit_request.png)

ï¼ˆåæ¥å‘ç°ï¼Œä¸ç”¨å†å»è¿›å…¥æ­¤é¢„è§ˆå’Œå‘å¸ƒçš„æµç¨‹ï¼Œå»æ›´æ–°æ–‡æ¡£ï¼Œè€Œæ˜¯ Postman è‡ªåŠ¨æ”¯æŒï¼‰

åˆ«äººå»åˆ·æ–°è¯¥æ–‡æ¡£çš„é¡µé¢ï¼š

`https://documenter.getpostman.com/view/669382/collection/77fd4RM`

å³å¯çœ‹åˆ°æ›´æ–°åçš„å†…å®¹ï¼š

![Postmanè‡ªåŠ¨æ›´æ–°äº†å·²å‘å¸ƒçš„APIæ–‡æ¡£](../assets/img/postman_auto_updated_published_api_doc.png)

## å‚è€ƒèµ„æ–™

- [ä¸»è¦å‚è€ƒï¼šGithub: api_tool_postman ](https://github.com/crifan/api_tool_postman)
- [Manage environments](https://www.getpostman.com/docs/postman/environments_and_globals/manage_environments)
- [postman-å˜é‡/ç¯å¢ƒ/è¿‡æ»¤ç­‰ - ç®€ä¹¦](http://www.jianshu.com/p/5d7954b6d218)
- [Postman ä½¿ç”¨æ‰‹å†Œ 3â€”â€”ç¯å¢ƒå˜é‡ - ç®€ä¹¦](http://www.jianshu.com/p/bffbc79b43f6)
- [postman ä½¿ç”¨ä¹‹å››ï¼šåˆ‡æ¢ç¯å¢ƒå’Œè®¾ç½®è¯»å–å˜é‡ - ä¹”å¶å¶ - åšå®¢å›­](http://www.cnblogs.com/qiaoyeye/p/5524750.html)
